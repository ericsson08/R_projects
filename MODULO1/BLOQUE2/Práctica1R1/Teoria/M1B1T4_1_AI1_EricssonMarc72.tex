\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={MÓDULO 1: HERRAMIENTAS BIG DATA},
            pdfauthor={Ericsson Marc},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\providecommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{MÓDULO 1: HERRAMIENTAS BIG DATA}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
  \subtitle{HERRAMIENTAS DE ANALISIS: PROGRAMACIÓN EN R - MICROACTIVIDADES}
  \author{Ericsson Marc}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{20/12/2021}


\begin{document}
\maketitle

\hypertarget{ejercicio-1}{%
\section{EJERCICIO 1}\label{ejercicio-1}}

\#vamos a jugar

Para el ejercicio 1, utilizaremos los datos los datos \texttt{millas}
que hay el package \texttt{datos}. Estos datos consisten en 238 filas y
11 columnas que describen el consumo de combustible de 38 modelos de
coche populares.

Puedes consultar más sobre los datos en la ayuda: \texttt{?millas}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(datos)}
\KeywordTok{suppressPackageStartupMessages}\NormalTok{(}\KeywordTok{library}\NormalTok{(tidyverse))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'tidyverse' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
## Warning: package 'tibble' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
## Warning: package 'tidyr' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
## Warning: package 'readr' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
## Warning: package 'purrr' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
## Warning: package 'dplyr' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
## Warning: package 'forcats' was built under R version 3.6.2
\end{verbatim}

\begin{verbatim}
?millas
\end{verbatim}

\hypertarget{ejercicio-1.1.}{%
\subsection{EJERCICIO 1.1.}\label{ejercicio-1.1.}}

A partir de los datos de \textbf{millas}, dibuja un gráfico de
dispersión de puntos que muestre las millas recorridas en autopista por
galón de combustible consumido (\textbf{autopista}) respecto a la
\textbf{cilindrada} del motor de cada automóvil. No olvides añadir
títulos al gráfico y a los ejes x e y.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{ejercicio_}\DecValTok{1}\NormalTok{ <-}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data =}\NormalTok{ millas, }\DataTypeTok{mapping =} \KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{autopista, }\DataTypeTok{y =}\NormalTok{ cilindrada)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() }\OperatorTok{+}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title =} \StringTok{"Consumo en función de cilindrada"}
\NormalTok{       , }\DataTypeTok{x =} \StringTok{"autopista"}
\NormalTok{       , }\DataTypeTok{y =} \StringTok{"cilindrada"}\NormalTok{)}
  
\NormalTok{ejercicio_}\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\includegraphics{M1B1T4_1_AI1_EricssonMarc72_files/figure-latex/unnamed-chunk-2-1.pdf}

\hypertarget{ejercicio-1.2.}{%
\subsection{EJERCICIO 1.2.}\label{ejercicio-1.2.}}

A partir del gráfico del ejercicio 1.1., escoge una columna para cada
uno de los siguientes parámetros estéticos: \texttt{color},
\texttt{size} y \texttt{shape}.

\begin{quote}
Truco: Observa que puedes seleccionar tanto columnas numéricas como de
tipo carácter o factor. Si lo crees interesante, puedes utilizar la
misma columna para distintos parámetros del gráfico .
\end{quote}

Comenta algún aspecto relevante que hayas descubierto sobre los coches a
partir del gráfico.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{ejercicio_}\DecValTok{2}\NormalTok{ <-}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data =}\NormalTok{ millas, }\DataTypeTok{mapping =} \KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{autopista, }\DataTypeTok{y =}\NormalTok{ cilindrada, }\DataTypeTok{color =}\NormalTok{ modelo, }\DataTypeTok{shape =}\NormalTok{ traccion, }\DataTypeTok{size =}\NormalTok{ anio)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() }\OperatorTok{+}
\StringTok{  }\KeywordTok{scale_shape_manual}\NormalTok{(}\DataTypeTok{values=}\KeywordTok{seq}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{15}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title =} \StringTok{"Consumo en función de cilindrada"}
\NormalTok{       , }\DataTypeTok{x =} \StringTok{"autopista"}
\NormalTok{       , }\DataTypeTok{y =} \StringTok{"cilindrada"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{legend.key.size =} \KeywordTok{unit}\NormalTok{(}\FloatTok{0.2}\NormalTok{,}\StringTok{"cm"}\NormalTok{))}

\NormalTok{ejercicio_}\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\includegraphics{M1B1T4_1_AI1_EricssonMarc72_files/figure-latex/unnamed-chunk-3-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Claramente podemos observar que cuanto más cilindrada, menos consumo.}
\end{Highlighting}
\end{Shaded}

\hypertarget{ejercicio-1.3.}{%
\subsection{EJERCICIO 1.3.}\label{ejercicio-1.3.}}

Transforma el siguiente vector de tipo \texttt{factor} a tipo
\texttt{numeric} de forma que el valor final mostrado sea exactamente el
mismo en ambos vectores, pero con formato distinto. Para ello utiliza
\texttt{as.character()} y \texttt{as.numeric()}.

¿Qué sucede si sólo utilizas \texttt{as.numeric()} directamente sobre la
columna factor?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vec <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"8"}\NormalTok{,}\StringTok{"5"}\NormalTok{,}\StringTok{"9"}\NormalTok{,}\StringTok{"8"}\NormalTok{,}\StringTok{"1"}\NormalTok{,}\StringTok{"7"}\NormalTok{))}
\KeywordTok{print}\NormalTok{(vec) }\CommentTok{# valor mostrado}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 8 5 9 8 1 7
## Levels: 1 5 7 8 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{vec_numeric <-}\StringTok{ }\KeywordTok{as.numeric}\NormalTok{(}\KeywordTok{as.character}\NormalTok{(vec))}
\KeywordTok{print}\NormalTok{(vec_numeric)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 8 5 9 8 1 7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#si solo usamos as.numeric() entonces le asignamos numericamente a cada factor distinto un orden (categorizamos)}
\NormalTok{vec_numeric_}\DecValTok{2}\NormalTok{ <-}\StringTok{ }\KeywordTok{as.numeric}\NormalTok{(vec)}
\KeywordTok{print}\NormalTok{(vec_numeric_}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 4 2 5 4 1 3
\end{verbatim}

\hypertarget{ejercicio-1.4.}{%
\subsection{EJERCICIO 1.4.}\label{ejercicio-1.4.}}

Es millas un objeto de la clase \emph{data.frame} o \emph{matrix}?

¿Y el siguiente objeto \texttt{obj}?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{obj1 <-}\StringTok{ }\KeywordTok{cbind}\NormalTok{(millas}\OperatorTok{$}\NormalTok{cilindrada,millas}\OperatorTok{$}\NormalTok{cilindros)}

\CommentTok{# solución}

\KeywordTok{head}\NormalTok{(millas)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 11
##   fabricante modelo cilindrada  anio cilindros transmision traccion ciudad
##   <chr>      <chr>       <dbl> <int>     <int> <chr>       <chr>     <int>
## 1 audi       a4            1.8  1999         4 auto(l5)    d            18
## 2 audi       a4            1.8  1999         4 manual(m5)  d            21
## 3 audi       a4            2    2008         4 manual(m6)  d            20
## 4 audi       a4            2    2008         4 auto(av)    d            21
## 5 audi       a4            2.8  1999         6 auto(l5)    d            16
## 6 audi       a4            2.8  1999         6 manual(m5)  d            18
## # ... with 3 more variables: autopista <int>, combustible <chr>,
## #   clase <chr>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(millas)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "tbl_df"     "tbl"        "data.frame"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(obj1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2]
## [1,]  1.8    4
## [2,]  1.8    4
## [3,]  2.0    4
## [4,]  2.0    4
## [5,]  2.8    6
## [6,]  2.8    6
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(obj1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "matrix"
\end{verbatim}

\hypertarget{ejercicio-1.5.}{%
\subsection{EJERCICIO 1.5.}\label{ejercicio-1.5.}}

Crea una función que tome un vector de tipo integer como input y retorne
un objetido de tipo lista que contega los siguientes elementos:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  El último valor del vector
\item
  Los elementos de las posiciones impares.
\item
  Todos los elementos excepto el primero.
\item
  Solo números impares (y no valores faltantes).
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# solución}


\NormalTok{ejercicio_}\DecValTok{5}\NormalTok{ <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(x) \{}
  
\NormalTok{  resultados <-}\StringTok{ }\KeywordTok{list}\NormalTok{()}
  
\NormalTok{  resultados[[}\StringTok{"Último valor del vector"}\NormalTok{]] <-}\StringTok{ }\KeywordTok{tail}\NormalTok{(x, }\DataTypeTok{n =} \DecValTok{1}\NormalTok{)}
  
\NormalTok{  resultados[[}\StringTok{"Impares"}\NormalTok{]] <-}\StringTok{ }\NormalTok{x[}\KeywordTok{c}\NormalTok{(}\OtherTok{TRUE}\NormalTok{,}\OtherTok{FALSE}\NormalTok{)]}
  
\NormalTok{  resultados[[}\StringTok{"Todos los elementos menos el primero"}\NormalTok{]] <-}\StringTok{ }\NormalTok{x[}\OperatorTok{-}\DecValTok{1}\NormalTok{]}
  
\NormalTok{  resultados[[}\StringTok{"Sólo números impares"}\NormalTok{]] <-}\StringTok{ }\NormalTok{x[x}\OperatorTok{%%}\DecValTok{2} \OperatorTok{!=}\StringTok{ }\DecValTok{0}\NormalTok{]}
  
  \KeywordTok{print}\NormalTok{(resultados)}
\NormalTok{\}}

\NormalTok{vec <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{9}\NormalTok{)}

\KeywordTok{ejercicio_5}\NormalTok{(vec)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $`Último valor del vector`
## [1] 9
## 
## $Impares
## [1]  3  4 10
## 
## $`Todos los elementos menos el primero`
## [1]  2  4  5 10  9
## 
## $`Sólo números impares`
## [1] 3 5 9
\end{verbatim}

\hypertarget{ejercicio-1.6.}{%
\subsection{EJERCICIO 1.6.}\label{ejercicio-1.6.}}

Busca un ejemplo de objeto x en el que la expresión
\texttt{x{[}-which(x\ \textgreater{}\ 0){]}} no devuelve el mismo
resultado que \texttt{x{[}x\ \textless{}=\ 0{]}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{x <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\OtherTok{NaN}\NormalTok{, }\DecValTok{2}\NormalTok{)}

\NormalTok{x[}\OperatorTok{-}\KeywordTok{which}\NormalTok{(x }\OperatorTok{>}\StringTok{ }\DecValTok{0}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NaN
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[x }\OperatorTok{<=}\StringTok{ }\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NA
\end{verbatim}

\hypertarget{ejercicio-1.7.}{%
\subsection{EJERCICIO 1.7.}\label{ejercicio-1.7.}}

Añade a millas una nueva columna llamada ``fabr\_mod'' que contenga la
concatenación del nombre del fabricante, un guion ``-'' y el modelo del
coche. Presenta la nueva columna mediante la función head().

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{millas}\OperatorTok{$}\NormalTok{fabr_mod <-}\StringTok{ }\DecValTok{1}\OperatorTok{:}\KeywordTok{nrow}\NormalTok{(millas)}


\NormalTok{millas}\OperatorTok{$}\NormalTok{fabr_mod <-}\StringTok{ }\KeywordTok{paste}\NormalTok{(millas}\OperatorTok{$}\NormalTok{fabricante,}\StringTok{"-"}\NormalTok{,millas}\OperatorTok{$}\NormalTok{modelo)}
\KeywordTok{head}\NormalTok{(millas)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 12
##   fabricante modelo cilindrada  anio cilindros transmision traccion ciudad
##   <chr>      <chr>       <dbl> <int>     <int> <chr>       <chr>     <int>
## 1 audi       a4            1.8  1999         4 auto(l5)    d            18
## 2 audi       a4            1.8  1999         4 manual(m5)  d            21
## 3 audi       a4            2    2008         4 manual(m6)  d            20
## 4 audi       a4            2    2008         4 auto(av)    d            21
## 5 audi       a4            2.8  1999         6 auto(l5)    d            16
## 6 audi       a4            2.8  1999         6 manual(m5)  d            18
## # ... with 4 more variables: autopista <int>, combustible <chr>,
## #   clase <chr>, fabr_mod <chr>
\end{verbatim}

\hypertarget{ejercicio-1.8.}{%
\subsection{EJERCICIO 1.8.}\label{ejercicio-1.8.}}

Selecciona todos los coches de \texttt{millas} que cumplan con todas
todas las condiciones siguientes:

\begin{itemize}
\tightlist
\item
  La marca es distinta a ``dodge''
\item
  Tiene tracción en las cuatro puertas
\item
  Han estado fabricados antes del 2008
\item
  Las millas/galón, o bién en ciudad, o bién en carretera, no llegan a
  12 millas/galón.
\end{itemize}

¿Cuantos coches has encontrado?

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{ejercicio_}\DecValTok{8}\NormalTok{ <-}\StringTok{ }\KeywordTok{subset}\NormalTok{(millas,fabricante }\OperatorTok{!=}\StringTok{ "dodge"} \OperatorTok{&}\StringTok{ }\NormalTok{traccion }\OperatorTok{==}\StringTok{ "4"} \OperatorTok{&}\StringTok{ }\NormalTok{anio }\OperatorTok{<}\StringTok{ }\DecValTok{2008} \OperatorTok{&}\StringTok{ }\NormalTok{(ciudad }\OperatorTok{<=}\StringTok{ }\DecValTok{12} \OperatorTok{|}\StringTok{ }\NormalTok{autopista }\OperatorTok{<=}\StringTok{ }\DecValTok{12}\NormalTok{))}
\NormalTok{ejercicio_}\DecValTok{8}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 5 x 12
##   fabricante modelo  cilindrada  anio cilindros transmision traccion ciudad
##   <chr>      <chr>        <dbl> <int>     <int> <chr>       <chr>     <int>
## 1 chevrolet  k1500 ~        5.7  1999         8 auto(l4)    4            11
## 2 ford       f150 p~        5.4  1999         8 auto(l4)    4            11
## 3 land rover range ~        4    1999         8 auto(l4)    4            11
## 4 land rover range ~        4.6  1999         8 auto(l4)    4            11
## 5 toyota     land c~        4.7  1999         8 auto(l4)    4            11
## # ... with 4 more variables: autopista <int>, combustible <chr>,
## #   clase <chr>, fabr_mod <chr>
\end{verbatim}

\hypertarget{ejercicio-1.9.}{%
\subsection{EJERCICIO 1.9.}\label{ejercicio-1.9.}}

Añade una nueva columna ``vol\_por\_cil'' a \texttt{obj} del ejercicio
1.4. que contenga el ratio de la cilindrada sobre el número de
cilindros. Presenta el summary de la nueva columna.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{obj <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{cbind}\NormalTok{(millas}\OperatorTok{$}\NormalTok{cilindrada,millas}\OperatorTok{$}\NormalTok{cilindros, }\OtherTok{NA}\NormalTok{))}
\KeywordTok{colnames}\NormalTok{(obj) <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"cilindrada"}\NormalTok{,}\StringTok{"cilindros"}\NormalTok{,}\StringTok{"vol_por_cil"}\NormalTok{)}
\NormalTok{obj}\OperatorTok{$}\NormalTok{vol_por_cil <-}\StringTok{ }\KeywordTok{as.numeric}\NormalTok{(obj}\OperatorTok{$}\NormalTok{cilindrada) }\OperatorTok{/}\StringTok{ }\KeywordTok{as.numeric}\NormalTok{(obj}\OperatorTok{$}\NormalTok{cilindros)}
\KeywordTok{summary}\NormalTok{(obj}\OperatorTok{$}\NormalTok{vol_por_cil)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.4000  0.5000  0.5875  0.5780  0.6500  0.8750
\end{verbatim}

\hypertarget{ejercicio-1.10.}{%
\subsection{EJERCICIO 1.10.}\label{ejercicio-1.10.}}

Modifica los valores de la columna ``vol\_por\_cil'' del objeto
\texttt{obj} del ejercicio 1.9. asignando NA a los valores de esta
columna que sean superiores a 0.7.

Presenta los datos con un summary del nuevo objeto \texttt{obj}.
¿Cuántos valores NA se han creado en esta columna?

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Solución:}

\NormalTok{ejercicio_}\DecValTok{10}\NormalTok{ <-}\StringTok{ }\NormalTok{obj}

\NormalTok{ejercicio_}\DecValTok{10}\OperatorTok{$}\NormalTok{vol_por_cil <-}\StringTok{ }\KeywordTok{ifelse}\NormalTok{ ( ejercicio_}\DecValTok{10}\OperatorTok{$}\NormalTok{vol_por_cil }\OperatorTok{>=}\StringTok{ }\FloatTok{0.7}\NormalTok{, }\OtherTok{NA}\NormalTok{, ejercicio_}\DecValTok{10}\OperatorTok{$}\NormalTok{vol_por_cil)}

\NormalTok{ejercicio_}\DecValTok{10}\NormalTok{_}\DecValTok{1}\NormalTok{ <-}\StringTok{ }\KeywordTok{subset}\NormalTok{(ejercicio_}\DecValTok{10}\NormalTok{, }\KeywordTok{is.na}\NormalTok{(ejercicio_}\DecValTok{10}\OperatorTok{$}\NormalTok{vol_por_cil))}
\KeywordTok{print}\NormalTok{(}\KeywordTok{nrow}\NormalTok{(ejercicio_}\DecValTok{10}\NormalTok{_}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 19
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(ejercicio_}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    cilindrada      cilindros      vol_por_cil    
##  Min.   :1.600   Min.   :4.000   Min.   :0.4000  
##  1st Qu.:2.400   1st Qu.:4.000   1st Qu.:0.5000  
##  Median :3.300   Median :6.000   Median :0.5750  
##  Mean   :3.472   Mean   :5.889   Mean   :0.5638  
##  3rd Qu.:4.600   3rd Qu.:8.000   3rd Qu.:0.6250  
##  Max.   :7.000   Max.   :8.000   Max.   :0.6750  
##                                  NA's   :19
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(ejercicio_}\DecValTok{10}\NormalTok{_}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    cilindrada      cilindros      vol_por_cil 
##  Min.   :4.200   Min.   :6.000   Min.   : NA  
##  1st Qu.:5.700   1st Qu.:8.000   1st Qu.: NA  
##  Median :5.700   Median :8.000   Median : NA  
##  Mean   :5.758   Mean   :7.789   Mean   :NaN  
##  3rd Qu.:6.050   3rd Qu.:8.000   3rd Qu.: NA  
##  Max.   :7.000   Max.   :8.000   Max.   : NA  
##                                  NA's   :19
\end{verbatim}


\end{document}
